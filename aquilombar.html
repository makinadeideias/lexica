
vou analisar um codigo e corrigir um erro. 
cada pergunta deve sempre ter 3 opcoes erradas e uma certa:
pasted_content.txt
Texto ¬∑ 73.14 KB
Lite
Entendido. Vou analisar o c√≥digo no arquivo pasted_content.txt e, com base na corre√ß√£o do erro, elaborarei uma pergunta de m√∫ltipla escolha com tr√™s op√ß√µes incorretas e uma correta. Deixe-me criar um plano para isso.
Question Generation Constraint: 3 Incorrect, 1 Correct Option


Ao analisar o c√≥digo, identifiquei um erro na l√≥gica de gera√ß√£o das op√ß√µes. O pr√≥ximo passo √© corrigir o erro e criar uma pergunta de m√∫ltipla escolha com uma resposta correta e tr√™s incorretas.

An√°lise do c√≥digo revelou erro na l√≥gica de gera√ß√£o de op√ß√µes. Preciso corrigir e criar uma pergunta de m√∫ltipla escolha com uma resposta correta e tr√™s incorretas.

Identifiquei que a l√≥gica de gera√ß√£o de op√ß√µes do quiz apresenta erro na distribui√ß√£o de respostas corretas e incorretas. Vou corrigir e criar uma pergunta de m√∫ltipla escolha com uma resposta correta e tr√™s incorretas.

Identifiquei que a gera√ß√£o de op√ß√µes garante 1 correta e 3 erradas, corrigindo o erro de distribui√ß√£o. Pr√≥ximo passo: validar se todas as perguntas seguem essa regra.

Verifiquei que a gera√ß√£o de op√ß√µes garante uma resposta correta e tr√™s incorretas, garantindo a regra. Agora, preciso validar se todas as perguntas seguem essa configura√ß√£o.

Lite
Prezado(a) usu√°rio(a),
Analisei o c√≥digo JavaScript do seu jogo "Aquilombar - Jogo das Personalidades Negras" e identifiquei um erro de l√≥gica na fun√ß√£o shuffleArray (linhas 1501-1520) que comprometia a aleatoriedade e, consequentemente, a garantia de que cada pergunta teria 3 op√ß√µes erradas e 1 correta de forma imprevis√≠vel.
O Erro Identificado
O erro estava na fun√ß√£o shuffleArray, que utilizava um seed fixo baseado no Date.now() e uma f√≥rmula trigonom√©trica (Math.sin) para calcular o randomIndex:
JavaScript
// Linhas 1503-1510 (C√≥digo Original)
const seed = Date.now(); // O seed √© fixo no momento da chamada
let currentIndex = array.length;
// ...
while (currentIndex !== 0) {
    // A f√≥rmula com Math.sin e o seed fixo n√£o garante uma distribui√ß√£o verdadeiramente aleat√≥ria
    randomIndex = Math.floor((Math.sin(seed + currentIndex) * 10000) % currentIndex); 
    currentIndex -= 1;
    // ...
}
O uso de Math.sin com um seed fixo n√£o √© o m√©todo padr√£o para embaralhamento aleat√≥rio (Fisher-Yates). Isso poderia levar a padr√µes previs√≠veis ou a um embaralhamento ineficaz, especialmente se a fun√ß√£o fosse chamada rapidamente em sequ√™ncia.
A Corre√ß√£o Proposta
A corre√ß√£o consiste em substituir a l√≥gica n√£o-padr√£o pela implementa√ß√£o correta e amplamente aceita do algoritmo de embaralhamento Fisher-Yates (ou Knuth Shuffle), que utiliza Math.random() para garantir uma distribui√ß√£o uniforme e aleat√≥ria dos elementos.
C√≥digo Corrigido para shuffleArray:
JavaScript
// Embaralhar array (algoritmo Fisher-Yates padr√£o)
function shuffleArray(array) {
    let currentIndex = array.length, randomIndex;

    // Enquanto houver elementos para embaralhar
    while (currentIndex !== 0) {

        // Pegar um elemento restante de forma aleat√≥ria
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        // E trocar com o elemento atual
        [array[currentIndex], array[randomIndex]] = [
            array[randomIndex], array[currentIndex]];
    }

    return array;
}
Pergunta de M√∫ltipla Escolha (3 Incorretas, 1 Correta)
Com base na an√°lise e corre√ß√£o do c√≥digo, elaborei a seguinte pergunta:
Pergunta: Qual √© o principal problema na implementa√ß√£o original da fun√ß√£o shuffleArray no c√≥digo JavaScript, que utiliza Math.sin com um seed baseado em Date.now() para determinar o √≠ndice aleat√≥rio?
Op√ß√µes:
Op√ß√£o
Descri√ß√£o
Status
A
O uso de Math.sin com um seed fixo n√£o garante uma distribui√ß√£o verdadeiramente aleat√≥ria (uniforme), podendo resultar em padr√µes previs√≠veis no embaralhamento das op√ß√µes.
Correta
B
A fun√ß√£o n√£o utiliza o m√©todo array.splice() para remover e inserir elementos, o que causa um erro de IndexOutOfBounds quando o currentIndex chega a zero.
Incorreta
C
O Date.now() √© um valor est√°tico que n√£o muda durante a execu√ß√£o do jogo, fazendo com que todas as perguntas tenham a mesma ordem de op√ß√µes.
Incorreta
D
A sintaxe de desestrutura√ß√£o [array[currentIndex], array[randomIndex]] = ... n√£o √© suportada por navegadores antigos, causando falha na execu√ß√£o da fun√ß√£o.
Incorreta
Justificativa da Resposta Correta (A):
O algoritmo Fisher-Yates depende de uma sele√ß√£o verdadeiramente aleat√≥ria para garantir que todas as permuta√ß√µes sejam igualmente prov√°veis. A implementa√ß√£o original, ao usar Math.sin(seed + currentIndex) * 10000) % currentIndex, introduz uma pseudo-aleatoriedade fraca e previs√≠vel, que n√£o √© adequada para embaralhamento e falha em garantir a uniformidade da distribui√ß√£o, quebrando a premissa de que as op√ß√µes seriam misturadas de forma justa. A corre√ß√£o substitui essa l√≥gica por Math.random(), que √© o gerador de n√∫meros pseudo-aleat√≥rios padr√£o e mais apropriado para essa finalidade.
O arquivo corrected_quiz_data.json cont√©m o trecho de c√≥digo corrigido para a fun√ß√£o shuffleArray.
Se precisar de mais alguma an√°lise ou tiver outras d√∫vidas, estou √† disposi√ß√£o.
Lite
Prezado(a) usu√°rio(a),
Analisei o c√≥digo JavaScript do seu jogo "Aquilombar - Jogo das Personalidades Negras" e identifiquei um erro de l√≥gica na fun√ß√£o shuffleArray (linhas 1501-1520) que comprometia a aleatoriedade e, consequentemente, a garantia de que cada pergunta teria 3 op√ß√µes erradas e 1 correta de forma imprevis√≠vel.
O Erro Identificado
O erro estava na fun√ß√£o shuffleArray, que utilizava um seed fixo baseado no Date.now() e uma f√≥rmula trigonom√©trica (Math.sin) para calcular o randomIndex:
JavaScript
// Linhas 1503-1510 (C√≥digo Original)
const seed = Date.now(); // O seed √© fixo no momento da chamada
let currentIndex = array.length;
// ...
while (currentIndex !== 0) {
    // A f√≥rmula com Math.sin e o seed fixo n√£o garante uma distribui√ß√£o verdadeiramente aleat√≥ria
    randomIndex = Math.floor((Math.sin(seed + currentIndex) * 10000) % currentIndex); 
    currentIndex -= 1;
    // ...
}
O uso de Math.sin com um seed fixo n√£o √© o m√©todo padr√£o para embaralhamento aleat√≥rio (Fisher-Yates). Isso poderia levar a padr√µes previs√≠veis ou a um embaralhamento ineficaz, especialmente se a fun√ß√£o fosse chamada rapidamente em sequ√™ncia.
A Corre√ß√£o Proposta
A corre√ß√£o consiste em substituir a l√≥gica n√£o-padr√£o pela implementa√ß√£o correta e amplamente aceita do algoritmo de embaralhamento Fisher-Yates (ou Knuth Shuffle), que utiliza Math.random() para garantir uma distribui√ß√£o uniforme e aleat√≥ria dos elementos.
C√≥digo Corrigido para shuffleArray:
JavaScript
// Embaralhar array (algoritmo Fisher-Yates padr√£o)
function shuffleArray(array) {
    let currentIndex = array.length, randomIndex;

    // Enquanto houver elementos para embaralhar
    while (currentIndex !== 0) {

        // Pegar um elemento restante de forma aleat√≥ria
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        // E trocar com o elemento atual
        [array[currentIndex], array[randomIndex]] = [
            array[randomIndex], array[currentIndex]];
    }

    return array;
}
Pergunta de M√∫ltipla Escolha (3 Incorretas, 1 Correta)
Com base na an√°lise e corre√ß√£o do c√≥digo, elaborei a seguinte pergunta:
Pergunta: Qual √© o principal problema na implementa√ß√£o original da fun√ß√£o shuffleArray no c√≥digo JavaScript, que utiliza Math.sin com um seed baseado em Date.now() para determinar o √≠ndice aleat√≥rio?
Op√ß√µes:
Op√ß√£o
Descri√ß√£o
Status
A
O uso de Math.sin com um seed fixo n√£o garante uma distribui√ß√£o verdadeiramente aleat√≥ria (uniforme), podendo resultar em padr√µes previs√≠veis no embaralhamento das op√ß√µes.
Correta
B
A fun√ß√£o n√£o utiliza o m√©todo array.splice() para remover e inserir elementos, o que causa um erro de IndexOutOfBounds quando o currentIndex chega a zero.
Incorreta
C
O Date.now() √© um valor est√°tico que n√£o muda durante a execu√ß√£o do jogo, fazendo com que todas as perguntas tenham a mesma ordem de op√ß√µes.
Incorreta
D
A sintaxe de desestrutura√ß√£o [array[currentIndex], array[randomIndex]] = ... n√£o √© suportada por navegadores antigos, causando falha na execu√ß√£o da fun√ß√£o.
Incorreta
Justificativa da Resposta Correta (A):
O algoritmo Fisher-Yates depende de uma sele√ß√£o verdadeiramente aleat√≥ria para garantir que todas as permuta√ß√µes sejam igualmente prov√°veis. A implementa√ß√£o original, ao usar Math.sin(seed + currentIndex) * 10000) % currentIndex, introduz uma pseudo-aleatoriedade fraca e previs√≠vel, que n√£o √© adequada para embaralhamento e falha em garantir a uniformidade da distribui√ß√£o, quebrando a premissa de que as op√ß√µes seriam misturadas de forma justa. A corre√ß√£o substitui essa l√≥gica por Math.random(), que √© o gerador de n√∫meros pseudo-aleat√≥rios padr√£o e mais apropriado para essa finalidade.
O arquivo corrected_code.js em anexo cont√©m o trecho de c√≥digo corrigido para a fun√ß√£o shuffleArray.
Se precisar de mais alguma an√°lise ou tiver outras d√∫vidas, estou √† disposi√ß√£o.
corrected_code.js
C√≥digo ¬∑ 562 B

Ver todos os arquivos nesta tarefa
ok, agora refaca o codigo para rodar apenas em html
Lite
Entendido. Voc√™ deseja que eu refa√ßa o c√≥digo do jogo "Aquilombar" para que ele rode completamente em um √∫nico arquivo HTML, sem depender de arquivos externos, e que eu incorpore a corre√ß√£o da fun√ß√£o shuffleArray que identificamos.
Vou atualizar o plano para refletir essa nova solicita√ß√£o. A complexidade do c√≥digo JavaScript √© alta, ent√£o o foco ser√° na refatora√ß√£o e na garantia de que a l√≥gica permane√ßa funcional dentro do novo formato.
Resolverei a integra√ß√£o do jogo "Aquilombar" em um √∫nico arquivo HTML, incluindo a corre√ß√£o da fun√ß√£o `shuffleArray` para garantir a aleatoriedade adequada das op√ß√µes.

Conclu√≠ a leitura do c√≥digo original, identifiquei a fun√ß√£o `shuffleArray` com m√©todo incorreto. Corrigi o embaralhamento usando `Math.sin` com seed vari√°vel, garantindo aleatoriedade adequada. Vou gerar o arquivo final.

Consolidei o c√≥digo em um arquivo √∫nico, incluindo a corre√ß√£o da fun√ß√£o de embaralhamento usando `Math.sin` com seed vari√°vel, garantindo aleatoriedade adequada. Pr√≥ximo passo: revisar a l√≥gica do jogo.

Lite
O c√≥digo do jogo "Aquilombar" foi refatorado com sucesso em um √∫nico arquivo HTML, conforme solicitado.
O arquivo aquilombar_refatorado.html cont√©m todo o HTML, CSS e JavaScript necess√°rio para rodar o jogo de forma aut√¥noma em qualquer navegador, sem a necessidade de arquivos externos.
A corre√ß√£o da fun√ß√£o shuffleArray foi aplicada no JavaScript incorporado, garantindo que o embaralhamento das op√ß√µes de resposta seja feito de maneira correta e verdadeiramente aleat√≥ria, conforme o algoritmo Fisher-Yates padr√£o.
Voc√™ pode baixar e abrir o arquivo aquilombar_refatorado.html diretamente no seu navegador para testar o jogo.
Se precisar de mais alguma modifica√ß√£o ou tiver outras d√∫vidas, estou √† disposi√ß√£o.
aquilombar_refatorado.html
C√≥digo ¬∑ 72.19 KB

Ver todos os arquivos nesta tarefa
Tarefa conclu√≠da
Como foi este resultado?
Sugest√µes de acompanhamento
Enviar mensagem para Manus

aquilombar_refatorado.html
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,  initial-scale=1.0">
    <title>Aquilombar - Jogo das Personalidades Negras</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            /* Removendo a depend√™ncia de fonte externa para ser 100% aut√¥nomo */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        
        :root {
            --primary: #8E44AD;
            --secondary: #3498DB;
            --accent: #E74C3C;
            --success: #2ECC71;
            --warning: #F39C12;
            --dark: #2C3E50;
            --light: #ECF0F1;
            --text: #333333;
            --text-light: #7F8C8D;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            padding: 1.5rem;
            margin-top: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
            display: flex;
            flex-direction: column;
            min-height: 85vh;
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            z-index: 1;
        }
        
        header {
            text-align: center;
            margin-bottom: 1.5rem;
            position: relative;
        }
        
        h1 {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 0.3rem;
            font-weight: 800;
            letter-spacing: -0.5px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .subtitle {
            color: var(--secondary);
            font-size: 1.1rem;
            margin-bottom: 0.8rem;
            font-weight: 600;
        }
        
        .logo {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .instructions {
            background: rgba(236, 240, 241, 0.8);
            padding: 1.2rem;
            border-radius: 16px;
            margin-bottom: 1.2rem;
            border-left: 4px solid var(--primary);
            font-size: 0.9rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .instructions p {
            margin-bottom: 0.4rem;
            line-height: 1.4;
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
            flex: 1;
        }
        
        .question-container {
            background: linear-gradient(135deg, var(--dark), #34495E);
            color: white;
            padding: 1.5rem;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .question-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }
        
        .person-name {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 0.3rem;
            color: var(--warning);
            line-height: 1.2;
        }
        
        .question-text {
            font-size: 1rem;
            margin-top: 0.8rem;
            opacity: 0.9;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            margin-top: 1rem;
        }
        
        .option {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
            text-align: left;
            min-height: 70px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            line-height: 1.3;
        }
        
        .option:hover {
            background-color: var(--light);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            border-color: var(--secondary);
        }
        
        .option.selected {
            background-color: var(--warning);
            border-color: var(--accent);
            color: white;
            font-weight: 600;
        }
        
        .option.correct {
            background-color: var(--success);
            border-color: #27AE60;
            color: white;
        }
        
        .option.incorrect {
            background-color: var(--accent);
            border-color: #C0392B;
            color: white;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            margin-top: 1.2rem;
            gap: 0.8rem;
        }
        
        button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 12px;
            padding: 0.9rem 1.8rem;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            min-width: 150px;
            position: relative;
            overflow: hidden;
        }
        
        button::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        
        button:hover::before {
            left: 100%;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }
        
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        button:disabled::before {
            display: none;
        }
        
        .exit-btn {
            background: linear-gradient(135deg, var(--accent), #C0392B);
        }
        
        .exit-btn:hover {
            background: linear-gradient(135deg, #C0392B, #A93226);
        }
        
        .score-container {
            text-align: center;
            margin-top: 1.2rem;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark);
            background: rgba(52, 152, 219, 0.1);
            padding: 0.8rem;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .progress-bar {
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 8px;
            margin-top: 0.8rem;
            overflow: hidden;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            width: 0%;
            transition: width 0.4s ease;
            border-radius: 8px;
        }
        
        .result-message {
            text-align: center;
            margin-top: 0.8rem;
            font-size: 1.1rem;
            font-weight: 600;
            min-height: 1.8rem;
            padding: 0.8rem;
            border-radius: 8px;
        }
        
        .points-message {
            text-align: center;
            font-size: 0.95rem;
            margin-top: 0.3rem;
            min-height: 1.2rem;
            font-weight: 600;
        }
        
        .final-score {
            text-align: center;
            margin-top: 1.5rem;
            font-size: 1.3rem;
            color: var(--dark);
            background: rgba(255, 255, 255, 0.9);
            padding: 1.5rem;
            border-radius: 16px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        .restart-btn {
            display: block;
            margin: 1.2rem auto 0;
            background: linear-gradient(135deg, var(--accent), #C0392B);
            max-width: 180px;
        }
        
        .restart-btn:hover {
            background: linear-gradient(135deg, #C0392B, #A93226);
        }
        
        .flag-colors {
            display: flex;
            justify-content: center;
            margin-top: 0.8rem;
            gap: 6px;
        }
        
        .flag-color {
            width: 30px;
            height: 8px;
            border-radius: 3px;
        }
        
        .color-green { background-color: #2ECC71; }
        .color-yellow { background-color: #F39C12; }
        .color-red { background-color: #E74C3C; }
        .color-black { background-color: #2C3E50; }
        
        .tabs {
            display: flex;
            justify-content: space-around;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .tab {
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-light);
            border-bottom: 3px solid transparent;
            transition: all 0.2s ease;
        }
        
        .tab:hover {
            color: var(--primary);
        }
        
        .tab.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }
        
        .tab-content {
            display: none;
            flex-direction: column;
            flex: 1;
        }
        
        .tab-content.active {
            display: flex;
        }
        
        .ranking-title {
            text-align: center;
            color: var(--dark);
            margin-bottom: 1rem;
        }
        
        .ranking-list {
            list-style: none;
            padding: 0;
            margin: 0;
            flex: 1;
            overflow-y: auto;
        }
        
        .ranking-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px dashed #e0e0e0;
            font-size: 1rem;
            font-weight: 500;
        }
        
        .ranking-item:last-child {
            border-bottom: none;
        }
        
        .ranking-item span:first-child {
            font-weight: 600;
            color: var(--primary);
        }
        
        .ranking-item span:last-child {
            color: var(--dark);
        }
        
        .medal {
            margin-right: 5px;
            font-size: 1.2rem;
        }
        
        .footer {
            text-align: center;
            margin-top: 1.5rem;
            font-size: 0.8rem;
            color: var(--text-light);
        }
        
        .quote-container {
            background: rgba(52, 152, 219, 0.1);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            border-left: 4px solid var(--secondary);
            font-style: italic;
            font-size: 0.9rem;
            text-align: left;
        }
        
        .quote-author {
            text-align: right;
            font-weight: 600;
            margin-top: 0.5rem;
            display: block;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            max-width: 90%;
            width: 400px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            text-align: center;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
        }
        
        .modal-title {
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .modal-input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-size: 1rem;
        }
        
        .modal-input:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .modal-buttons {
            display: flex;
            gap: 0.8rem;
            justify-content: center;
        }
        
        .modal-btn {
            padding: 0.7rem 1.5rem;
            min-width: 120px;
        }
        
        /* Melhorias para mobile */
        @media (max-width: 480px) {
            .container {
                padding: 1.2rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .person-name {
                font-size: 1.4rem;
            }
            
            .option {
                padding: 0.9rem;
                min-height: 65px;
                font-size: 0.85rem;
            }
            
            button {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
                min-width: 120px;
            }
            
            .instructions, .quote-container {
                padding: 0.9rem;
            }
            
            .modal-content {
                padding: 1.5rem;
            }
        }
        
        @media (max-width: 360px) {
            .container {
                padding: 1rem;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .person-name {
                font-size: 1.3rem;
            }
            
            .option {
                padding: 0.8rem;
                min-height: 60px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">‚ö´</div>
            <h1>Aquilombar</h1>
            <div class="subtitle">Jogo das Personalidades Negras</div>
            <div class="flag-colors">
                <div class="flag-color color-green"></div>
                <div class="flag-color color-yellow"></div>
                <div class="flag-color color-red"></div>
                <div class="flag-color color-black"></div>
            </div>
        </header>
        
        <div class="tabs">
            <div class="tab active" id="tab-game">Jogar</div>
            <div class="tab" id="tab-ranking">Ranking</div>
            <div class="tab" id="tab-about">Sobre</div>
        </div>
        
        <div class="tab-content active" id="content-game">
            <div class="instructions">
                <p><strong>Como jogar:</strong> Selecione a op√ß√£o correta sobre cada personalidade ou palavra.</p>
                <p><strong>Pontua√ß√£o:</strong> Acerto = +13 pontos | Erro = -3 pontos</p>
            </div>
            
            <div class="game-area">
                <div class="phase-indicator" id="phase-indicator">Fase 1 de 5 | Respostas certas: 0/8</div>
                
                <div class="question-container">
                    <div class="person-name" id="person-name">Nome da Personalidade</div>
                    <div class="question-text" id="question-text">Atividade e atua√ß√£o ?</div>
                </div>
                
                <div class="options-container" id="options-container">
                    <!-- As op√ß√µes ser√£o inseridas aqui via JavaScript -->
                </div>
                
                <div class="result-message" id="result-message"></div>
                <div class="points-message" id="points-message"></div>
                <div class="timer-bar" id="timer-bar"></div>
                
                <div class="controls">
                    <button id="next-btn" disabled>Pr√≥xima</button>
                </div>
                
                <button class="exit-btn" id="exit-btn">Desistir</button>
                
                <div class="score-container">
                    Pontua√ß√£o: <span id="score">0</span> pontos | Fase: <span id="current-phase">1</span>/5
                </div>
                
                <div class="progress-bar">
                    <div class="progress" id="progress-bar"></div>
                </div>
            </div>
            
            <div class="final-score" id="final-score" style="display: none;"></div>
            <button class="restart-btn" id="restart-btn" style="display: none;">Jogar Novamente</button>
            
            <div class="footer">
                Desenvolvido por Makina de Ideias
            </div>
        </div>
        
        <div class="tab-content" id="content-ranking">
            <h2 class="ranking-title">Ranking Permanente</h2>
            <div class="ranking-container" id="ranking-container">
                <ul class="ranking-list" id="ranking-list">
                    <!-- Ranking ser√° preenchido via JavaScript -->
                </ul>
            </div>
            <div class="footer">
                Desenvolvido por Makina de Ideias
            </div>
        </div>
        
        <div class="tab-content" id="content-about">
            <div class="instructions">
                <h3>Sobre o Aquilombar</h3>
                <p>Este jogo celebra a hist√≥ria e as conquistas de personalidades negras que marcaram a humanidade com seus feitos, lutas e contribui√ß√µes.</p>
                <p><strong>Aquilombar</strong> significa reunir-se em comunidade, resistir e construir juntos - assim como fizeram as personalidades homenageadas neste jogo.</p>
                <p>Que possamos aprender com suas hist√≥rias e continuar a luta por um mundo mais justo e igualit√°rio.</p>
            </div>
            <div class="footer">
                Desenvolvido por Makina de Ideias
            </div>
        </div>
    </div>

    <!-- Modal para registro no ranking -->
    <div class="modal" id="ranking-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-modal">&times;</span>
            <h2 class="modal-title">Registrar Pontua√ß√£o</h2>
            <p>Sua pontua√ß√£o: <strong id="modal-score">0</strong> pontos</p>
            <input type="text" class="modal-input" id="player-name" placeholder="Digite seu nome" maxlength="20">
            <div class="modal-buttons">
                <button class="modal-btn" id="save-score">Salvar</button>
                <button class="modal-btn exit-btn" id="cancel-score">Cancelar</button>
            </div>
        </div>
    </div>

    <script>
        // S√≠mbolos Adinkra para medalhas
        const adinkraSymbols = {
            gold: "‚ö´",   // Gye Nyame - Exceto Deus (supremacia de Deus)
            silver: "üî∫", // Dwennimmen - Chifres de carneiro (humildade e for√ßa)
            bronze: "üü°", // Akoma - Cora√ß√£o (paci√™ncia e toler√¢ncia)
            honorable: "üî∂", // Sankofa (aprender com o passado)
            knowledge: "‚óº"  // Nsoromma (estar sob a prote√ß√£o de Deus)
        };

        // Cita√ß√µes antirracistas famosas
        const antiRacistQuotes = [
            {
                text: "Ningu√©m nasce odiando outra pessoa pela cor de sua pele, por sua origem ou ainda por sua religi√£o. Para odiar, as pessoas precisam aprender, e se podem aprender a odiar, podem ser ensinadas a amar.",
                author: "Nelson Mandela"
            },
            {
                text: "A educa√ß√£o √© a arma mais poderosa que voc√™ pode usar para mudar o mundo.",
                author: "Nelson Mandela"
            },
            {
                text: "N√£o lutamos por integra√ß√£o ou por separa√ß√£o. Lutamos para sermos reconhecidos como seres humanos.",
                author: "Malcolm X"
            },
            {
                text: "O racismo n√£o √© uma opini√£o, √© um crime.",
                author: "Maya Angelou"
            },
            {
                text: "Enquanto a cor da pele for mais importante que o brilho dos olhos, haver√° guerra.",
                author: "Bob Marley"
            }
        ];

        // Dados do quiz - personalidades negras e palavras africanas
        const quizData = [
            // Fase 1: Personalidades Hist√≥ricas
            {
                name: "Luiz Gama",
                correctAnswer: "Jornalista, escritor e advogado autodidata que libertou mais de 500 escravizados",
                wrongAnswers: [
                    "Primeiro presidente negro do Brasil Imperial",
                    "L√≠der da Revolta dos Mal√™s em Salvador",
                    "Fundador do Quilombo dos Palmares"
                ]
            },
            {
                name: "Dandara dos Palmares",
                correctAnswer: "Guerreira e estrategista na resist√™ncia contra a escravid√£o no Quilombo dos Palmares",
                wrongAnswers: [
                    "Primeira rainha do Congo no Brasil",
                    "L√≠der da Revolta da Chibata na Marinha",
                    "Fundadora do Candombl√© no Brasil"
                ]
            },
            {
                name: "Zumbi dos Palmares",
                correctAnswer: "√öltimo l√≠der do Quilombo dos Palmares e s√≠mbolo da resist√™ncia negra",
                wrongAnswers: [
                    "Primeiro rei africano no Brasil",
                    "L√≠der da Revolta dos Mal√™s",
                    "Fundador da Capoeira Angola"
                ]
            },
            {
                name: "Aqualtune",
                correctAnswer: "Princesa do Congo, av√≥ de Zumbi e l√≠der guerreira no Quilombo dos Palmares",
                wrongAnswers: [
                    "Primeira sacerdotisa do Candombl√©",
                    "L√≠der da Revolta dos B√∫zios",
                    "Fundadora de Salvador"
                ]
            },
            {
                name: "Carolina Maria de Jesus",
                correctAnswer: "Escritora que registrou a vida na favela no livro 'Quarto de Despejo'",
                wrongAnswers: [
                    "Primeira deputada negra do Brasil",
                    "L√≠der do movimento abolicionista",
                    "Fundadora do jornal O Mulato"
                ]
            },
            {
                name: "Andr√© Rebou√ßas",
                correctAnswer: "Engenheiro abolicionista que projetou obras de infraestrutura no Brasil Imperial",
                wrongAnswers: [
                    "Primeiro m√©dico negro formado no Brasil",
                    "L√≠der da Revolta da Vacina",
                    "Fundador da Escola Polit√©cnica"
                ]
            },
            {
                name: "Jos√© do Patroc√≠nio",
                correctAnswer: "Jornalista, escritor e um dos principais l√≠deres do movimento abolicionista",
                wrongAnswers: [
                    "Primeiro senador negro do Brasil",
                    "L√≠der da Revolta da Armada",
                    "Fundador do Partido Republicano"
                ]
            },
            {
                name: "Lima Barreto",
                correctAnswer: "Escritor pr√©-modernista que denunciou o racismo na sociedade brasileira",
                wrongAnswers: [
                    "Primeiro romancista negro best-seller",
                    "L√≠der do movimento constitucionalista",
                    "Fundador da Academia Brasileira"
                ]
            },
            {
                name: "M√£e Stella de Ox√≥ssi",
                correctAnswer: "Ialorix√° e escritora, uma das maiores l√≠deres do Candombl√© brasileiro",
                wrongAnswers: [
                    "Fundadora do primeiro terreiro de Candombl√©",
                    "L√≠der da Revolta dos Alfaiates",
                    "Primeira mulher na Academia de Letras"
                ]
            },
            {
                name: "Mestre Didi",
                correctAnswer: "Escultor, escritor e sacerdote, refer√™ncia da arte afro-brasileira",
                wrongAnswers: [
                    "Fundador do Museu Afro Brasil",
                    "L√≠der do movimento modernista",
                    "Primeiro artista negro na Bienal"
                ]
            },

            // Fase 2: Revoltas e Resist√™ncias
            {
                name: "Revolta dos Mal√™s",
                category: "Revolta Negra",
                correctAnswer: "Revolta de escravizados mu√ßulmanos na Bahia em 1835 por liberdade religiosa",
                wrongAnswers: [
                    "Revolta de ind√≠genas por territ√≥rio no s√©culo XVIII",
                    "Movimento de imigrantes europeus por melhores sal√°rios",
                    "Protesto de estudantes universit√°rios em 1968"
                ]
            },
            {
                name: "Revolta da Chibata",
                category: "Revolta Negra",
                correctAnswer: "Revolta de marinheiros negros contra os castigos f√≠sicos na Marinha em 1910",
                wrongAnswers: [
                    "Revolta de soldados da For√ßa A√©rea em 1940",
                    "Movimento de professores por melhores condi√ß√µes em 1950",
                    "Protesto de oper√°rios por redu√ß√£o da jornada em 1900"
                ]
            },
            {
                name: "Conjura√ß√£o Baiana",
                category: "Revolta Negra",
                correctAnswer: "Movimento pela independ√™ncia da Bahia e fim da escravid√£o em 1798",
                wrongAnswers: [
                    "Revolta de pescadores por pre√ßos justos",
                    "Movimento de artistas por liberdade de express√£o",
                    "Protesto de comerciantes por redu√ß√£o de impostos"
                ]
            },
            {
                name: "Balaiada",
                category: "Revolta Negra",
                correctAnswer: "Revolta popular no Maranh√£o com participa√ß√£o massiva de negros escravizados",
                wrongAnswers: [
                    "Revolta de elite por autonomia pol√≠tica",
                    "Movimento separatista no Sul do pa√≠s",
                    "Protesto de industriais por prote√ß√£o alfandeg√°ria"
                ]
            },
            {
                name: "Revolta do Queimado",
                category: "Revolta Negra",
                correctAnswer: "Revolta de escravizados no Esp√≠rito Santo por liberdade em 1849",
                wrongAnswers: [
                    "Revolta de fazendeiros por terras",
                    "Movimento de religiosos por templos",
                    "Protesto de estudantes por educa√ß√£o"
                ]
            },
            {
                name: "Insurrei√ß√£o do Urubu",
                category: "Revolta Negra",
                correctAnswer: "Revolta de escravizados no Rio de Janeiro que criou quilombo urbano",
                wrongAnswers: [
                    "Revolta de animais em zool√≥gico",
                    "Movimento ecol√≥gico pioneiro",
                    "Protesto de moradores por saneamento"
                ]
            },
            {
                name: "Revolta de Carrancas",
                category: "Revolta Negra",
                correctAnswer: "Rebeli√£o de escravizados em Minas Gerais por melhores condi√ß√µes de vida",
                wrongAnswers: [
                    "Revolta de tropeiros por rotas comerciais",
                    "Movimento de garimpeiros por direitos",
                    "Protesto de artistas por patroc√≠nio"
                ]
            },
            {
                name: "Revolta de Campinas",
                category: "Revolta Negra",
                correctAnswer: "Rebeli√£o de escravizados liderada por Manuel Congo em 1832",
                wrongAnswers: [
                    "Revolta de cafeicultores por pre√ßos",
                    "Movimento de urbanistas por planejamento",
                    "Protesto de m√∫sicos por espa√ßos"
                ]
            },
            {
                name: "Insurrei√ß√£o Baiana",
                category: "Revolta Negra",
                correctAnswer: "Conjunto de revoltas de negros e mesti√ßos na Bahia do s√©culo XIX",
                wrongAnswers: [
                    "Movimento de elite por independ√™ncia",
                    "Protesto de comerciantes portugueses",
                    "Revolta de militares por promo√ß√µes"
                ]
            },

            // Fase 3: Capoeira e Cultura
            {
                name: "Mestre Bimba",
                correctAnswer: "Criador da Capoeira Regional e respons√°vel pela legaliza√ß√£o da capoeira",
                wrongAnswers: [
                    "Fundador do primeiro quilombo urbano",
                    "Primeiro capoeirista nas Olimp√≠adas",
                    "Criador do samba de roda baiano"
                ]
            },
            {
                name: "Mestre Pastinha",
                correctAnswer: "Grande mestre da Capoeira Angola e preservador da tradi√ß√£o africana",
                wrongAnswers: [
                    "Fundador do bloco afro Il√™ Aiy√™",
                    "Primeiro capoeirista profissional",
                    "Criador da dan√ßa do frevo"
                ]
            },
            {
                name: "Moa do Katend√™",
                correctAnswer: "Mestre de capoeira, artista e ativista cultural assassinado em 2018",
                wrongAnswers: [
                    "Fundador do movimento hip-hop brasileiro",
                    "Primeiro capoeirista no Congresso",
                    "Criador do samba-reggae"
                ]
            },
            {
                name: "Mestre Cai√ßara",
                correctAnswer: "Importante mestre de Capoeira Angola da tradi√ß√£o baiana",
                wrongAnswers: [
                    "Fundador da capoeira no Maranh√£o",
                    "Primeiro mestre maranhense",
                    "Criador da capoeira bumba-meu-boi"
                ]
            },
            {
                name: "Mestre Jo√£o Grande",
                correctAnswer: "Disc√≠pulo de Pastinha que difundiu a Capoeira Angola internacionalmente",
                wrongAnswers: [
                    "Fundador da capoeira nos EUA",
                    "Primeiro mestre a ensinar no exterior",
                    "Criador da capoeira contempor√¢nea"
                ]
            },
            {
                name: "Mestre Jo√£o Pequeno",
                correctAnswer: "Grande mestre da Capoeira Angola, sucessor de Pastinha",
                wrongAnswers: [
                    "Fundador da capoeira angola moderna",
                    "Primeiro mestre centen√°rio",
                    "Criador da capoeira esportiva"
                ]
            },
            {
                name: "Mestre Moraes",
                correctAnswer: "Fundador do Grupo GCAP e renovador da Capoeira Angola",
                wrongAnswers: [
                    "Criador da capoeira mista",
                    "Primeiro mestre a criar m√©todo",
                    "Fundador da capoeira esportiva"
                ]
            },
            {
                name: "Mestre Cobrinha Verde",
                correctAnswer: "Lend√°rio capoeirista conhecido por sua habilidade e malandragem",
                wrongAnswers: [
                    "Fundador da capoeira carioca",
                    "Primeiro mestre a gravar disco",
                    "Criador da capoeira acrob√°tica"
                ]
            },
            {
                name: "Mestre Waldemar",
                correctAnswer: "Mestre que preservou a tradi√ß√£o da Capoeira Angola na Bahia",
                wrongAnswers: [
                    "Fundador da capoeira paulista",
                    "Primeiro mestre a ensinar mulheres",
                    "Criador da capoeira show"
                ]
            },
            {
                name: "Mestre Canjiquinha",
                correctAnswer: "Mestre de Capoeira Angola, conhecido por seu estilo √∫nico e musicalidade",
                wrongAnswers: [
                    "Fundador da capoeira infantil",
                    "Primeiro mestre universit√°rio",
                    "Criador da capoeira terap√™utica"
                ]
            },

            // Fase 4: Artistas e M√∫sicos
            {
                name: "Gilberto Gil",
                correctAnswer: "Cantor, compositor e ex-ministro da Cultura, um dos criadores do Tropicalismo",
                wrongAnswers: [
                    "Primeiro presidente negro do Brasil",
                    "Criador do samba-enredo",
                    "Fundador do Banco Central"
                ]
            },
            {
                name: "Milton Nascimento",
                correctAnswer: "Cantor e compositor, um dos maiores nomes da MPB e ativista social",
                wrongAnswers: [
                    "Primeiro presidente de Minas Gerais",
                    "Criador do estilo musical sertanejo",
                    "Fundador da Rede Globo"
                ]
            },
            {
                name: "Martinho da Vila",
                correctAnswer: "Cantor e compositor, popularizou o samba-enredo e ativista cultural",
                wrongAnswers: [
                    "Fundador da escola de samba Mangueira",
                    "Primeiro sambista a vencer o Grammy",
                    "Criador do estilo pagode"
                ]
            },
            {
                name: "Elza Soares",
                correctAnswer: "Cantora, √≠cone da m√∫sica brasileira com carreira de mais de 60 anos",
                wrongAnswers: [
                    "Fundadora da Jovem Guarda",
                    "Primeira cantora negra no r√°dio",
                    "Criadora da bossa nova"
                ]
            },
            {
                name: "Jorge Ben Jor",
                correctAnswer: "Cantor e compositor, criador do samba-rock e influ√™ncia do tropicalismo",
                wrongAnswers: [
                    "Fundador do Tropicalismo",
                    "Primeiro artista negro na TV Record",
                    "Criador do estilo ax√© music"
                ]
            },
            {
                name: "Clementina de Jesus",
                correctAnswer: "Cantora, guardi√£ da musicalidade africana na MPB",
                wrongAnswers: [
                    "Fundadora do bloco afro Olodum",
                    "Primeira cantora de samba no r√°dio",
                    "Criadora do jongo carioca"
                ]
            },
            {
                name: "Cartola",
                correctAnswer: "Compositor e sambista, fundador da escola de samba Mangueira",
                wrongAnswers: [
                    "Fundador da Portela",
                    "Primeiro sambista a gravar disco",
                    "Criador do partido-alto"
                ]
            },
            {
                name: "Dona Ivone Lara",
                correctAnswer: "Cantora e compositora, primeira mulher no samba-enredo",
                wrongAnswers: [
                    "Fundadora da escola de samba Imp√©rio Serrano",
                    "Primeira mulher a compor samba-enredo",
                    "Criadora do samba de terreiro"
                ]
            },
            {
                name: "Paulinho da Viola",
                correctAnswer: "Compositor e instrumentista, mestre do samba tradicional",
                wrongAnswers: [
                    "Fundador do samba-choro",
                    "Primeiro sambista na TV Globo",
                    "Criador do samba de gafieira moderno"
                ]
            },
            {
                name: "Alcione",
                correctAnswer: "Cantora, uma das maiores vozes do samba brasileiro",
                wrongAnswers: [
                    "Fundadora do samba de raiz maranhense",
                    "Primeira cantora negra de samba no r√°dio",
                    "Criadora do samba-enredo moderno"
                ]
            },

            // Fase 5: Esportes e M√≠dia
            {
                name: "Roger Machado",
                correctAnswer: "Ex-jogador e treinador de futebol, primeiro t√©cnico negro do Gr√™mio",
                wrongAnswers: [
                    "Primeiro jogador negro da sele√ß√£o brasileira",
                    "Fundador da CBF",
                    "Criador do estilo de jogo 'ginga'"
                ]
            },
            {
                name: "Pel√©",
                correctAnswer: "Rei do Futebol, √∫nico tricampe√£o mundial e embaixador do esporte",
                wrongAnswers: [
                    "Primeiro presidente do Brasil",
                    "Criador do jogo de videogame",
                    "Fundador da Nike"
                ]
            },
            {
                name: "Racionais MC's",
                correctAnswer: "Grupo de rap mais influente do Brasil, voz da periferia paulistana",
                wrongAnswers: [
                    "Primeiro grupo de pagode do Brasil",
                    "Criadores do estilo funk carioca",
                    "Fundadores da gravadora Som Livre"
                ]
            },
            {
                name: "Mano Brown",
                correctAnswer: "Rapper, produtor e ativista social, l√≠der dos Racionais MC's",
                wrongAnswers: [
                    "Primeiro apresentador negro da MTV",
                    "Criador do programa Cidade Alerta",
                    "Fundador da r√°dio Jovem Pan"
                ]
            },
            {
                name: "Emicida",
                correctAnswer: "Rapper, cantor e ativista da cultura perif√©rica",
                wrongAnswers: [
                    "Fundador do grupo Racionais MC's",
                    "Primeiro rapper negro no Faust√£o",
                    "Criador do estilo funk carioca"
                ]
            },
            {
                name: "Flavio Renegado",
                correctAnswer: "Cantor, rapper e compositor, voz do movimento negro em Minas Gerais",
                wrongAnswers: [
                    "Fundador do grupo de pagote S√≥ Pra Contrariar",
                    "Primeiro cantor de rap na Rede Globo",
                    "Criador do estilo sertanejo universit√°rio"
                ]
            },
            {
                name: "B Neg√£o",
                correctAnswer: "Cantor, compositor e ativista, ex-vocalista do Planet Hemp",
                wrongAnswers: [
                    "Fundador do grupo de rock Legi√£o Urbana",
                    "Primeiro cantor de rap no Rock in Rio",
                    "Criador do estilo mangue beat"
                ]
            },
            {
                name: "Marcelo D2",
                correctAnswer: "Rapper e cantor, pioneiro do samba-rock e do rap nacional",
                wrongAnswers: [
                    "Fundador do grupo de pagote √â o Tchan",
                    "Primeiro rapper a fazer turn√™ mundial",
                    "Criador do estilo ax√© music"
                ]
            },
            {
                name: "L√°zaro Ramos",
                correctAnswer: "Ator, diretor e apresentador, defensor da diversidade na m√≠dia brasileira",
                wrongAnswers: [
                    "Primeiro √¢ncora negro do Jornal Nacional",
                    "Criador do programa Fant√°stico",
                    "Fundador da TV Cultura"
                ]
            },
            {
                name: "Ta√≠s Ara√∫jo",
                correctAnswer: "Atriz e apresentadora, primeira protagonista negra em novela das 8",
                wrongAnswers: [
                    "Primeira mulher presidente da Globo",
                    "Criadora do reality show Big Brother",
                    "Fundadora da MTV Brasil"
                ]
            },
            {
                name: "Seu Jorge",
                correctAnswer: "Cantor, compositor e ator, voz do samba moderno e do cinema",
                wrongAnswers: [
                    "Fundador do grupo Fundo de Quintal",
                    "Primeiro sambista nas paradas internacionais",
                    "Criador do estilo samba-rock"
                ]
            },
            {
                name: "Majur",
                correctAnswer: "Cantora e artista ind√≠gena e negra, voz da diversidade brasileira",
                wrongAnswers: [
                    "Primeira cantora de √≥pera ind√≠gena",
                    "Criadora do estilo pagode",
                    "Fundadora do The Voice Brasil"
                ]
            },
            {
                name: "Linn da Quebrada",
                correctAnswer: "Atriz, cantora e ativista LGBTQIA+, voz da diversidade na arte",
                wrongAnswers: [
                    "Primeira deputada trans do Brasil",
                    "Criadora do programa P√¢nico",
                    "Fundadora da MTV"
                ]
            },

            // Palavras Africanas
            {
                name: "Abad√°",
                category: "Palavra de origem africana",
                correctAnswer: "T√∫nica longa masculina de mangas largas e compridas, de origem iorub√°",
                wrongAnswers: [
                    "Instrumento musical de percuss√£o africano tradicional",
                    "Dan√ßa ritual de invoca√ß√£o dos ancestrais",
                    "Prato t√≠pico da culin√°ria mo√ßambicana com peixe"
                ]
            },
            {
                name: "Canga",
                category: "Palavra de origem africana",
                correctAnswer: "Tecido com que as mulheres amarram as crian√ßas ao corpo, de origem quicongo",
                wrongAnswers: [
                    "Instrumento musical de sopro tradicional africano",
                    "Tipo de arquitetura vernacular da √Åfrica Ocidental",
                    "Cerim√¥nia de inicia√ß√£o religiosa no candombl√©"
                ]
            },
            {
                name: "Capanga",
                category: "Palavra de origem africana",
                correctAnswer: "Pequena bolsa para proteger bens de valor; por analogia, guarda-costas",
                wrongAnswers: [
                    "Tipo de dan√ßa de umbigada tradicional",
                    "Instrumento de percuss√£o similar ao atabaque",
                    "Vestimenta tradicional africana colorida"
                ]
            },
            {
                name: "Cachimbo",
                category: "Palavra de origem africana",
                correctAnswer: "Instrumento utilizado para fumar, geralmente tabaco, de origem quimbundo",
                wrongAnswers: [
                    "Tipo de agricultura tradicional africana",
                    "Cerim√¥nia de casamento tradicional",
                    "Arma de ca√ßa utilizada pelos povos bantos"
                ]
            },
            {
                name: "Abar√°",
                category: "Palavra de origem africana",
                correctAnswer: "Bolinho envolvido em folha de bananeira e cozido em banho-maria",
                wrongAnswers: [
                    "Instrumento musical de cordas tradicional",
                    "Dan√ßa cerimonial da √Åfrica do Sul",
                    "Tipo de tecido colorido de Gana"
                ]
            },
            {
                name: "Acaraj√©",
                category: "Palavra de origem africana",
                correctAnswer: "Bolinho preparado com massa de feij√£o-fradinho frito no azeite de dend√™",
                wrongAnswers: [
                    "Instrumento de percuss√£o usado em rituais",
                    "Estilo de luta tradicional angolana",
                    "Vestimenta ceremonial de sacerdotisas"
                ]
            },
            {
                name: "Dend√™",
                category: "Palavra de origem africana",
                correctAnswer: "Palmeira e fruto do dendezeiro, base da culin√°ria afro-brasileira",
                wrongAnswers: [
                    "Instrumento musical de sopro tradicional",
                    "Dan√ßa ritual de invoca√ß√£o da chuva",
                    "Tipo de arquitetura vernacular africana"
                ]
            },
            {
                name: "Quindim",
                category: "Palavra de origem africana",
                correctAnswer: "Doce feito com gema de ovo, coco e a√ß√∫car, de origem quicongo",
                wrongAnswers: [
                    "Instrumento musical de percuss√£o leve",
                    "Dan√ßa tradicional de celebra√ß√£o natalina",
                    "Tecido utilizado em cerim√¥nias reais"
                ]
            },
            {
                name: "Ax√©",
                category: "Palavra de origem africana",
                correctAnswer: "Comando ou ordem para realizar algo com sucesso, equivale a 'assim seja'",
                wrongAnswers: [
                    "Estilo musical brasileiro dos anos 90",
                    "Tipo de comida ritual do candombl√©",
                    "Dan√ßa tradicional do Congo"
                ]
            },
            {
                name: "Cafun√©",
                category: "Palavra de origem africana",
                correctAnswer: "Car√≠cia na cabe√ßa de algu√©m, palavra de origem quimbundo",
                wrongAnswers: [
                    "Tipo de dan√ßa tradicional angolana em grupo",
                    "Instrumento musical de percuss√£o africano",
                    "Prato t√≠pico da culin√°ria mo√ßambicana"
                ]
            },
            {
                name: "Dengo",
                category: "Palavra de origem africana",
                correctAnswer: "Do√ßura, sedoso, macio; faceirice, manha, de origem quicongo",
                wrongAnswers: [
                    "Instrumento musical de cordas tradicional",
                    "Ritmo musical r√°pido de Angola",
                    "Cerim√¥nia de inicia√ß√£o para jovens"
                ]
            },
            {
                name: "Moleque",
                category: "Palavra de origem africana",
                correctAnswer: "Crian√ßa, garoto, irm√£o mais novo, de origem quimbundo e quicongo",
                wrongAnswers: [
                    "Instrumento de ca√ßa tradicional africano",
                    "Dan√ßa guerreira dos povos iorub√°s",
                    "Tipo de m√°scara ceremonial ritual√≠stica"
                ]
            },
            {
                name: "Quilombo",
                category: "Palavra de origem africana",
                correctAnswer: "Acampamento guerreiro na floresta; aldeamento de escravos fugitivos",
                wrongAnswers: [
                    "Instrumento musical de cordas tradicional",
                    "Tipo de agricultura de subsist√™ncia",
                    "Cerim√¥nia de inicia√ß√£o religiosa"
                ]
            },
            {
                name: "Senzala",
                category: "Palavra de origem africana",
                correctAnswer: "Lugar de habita√ß√£o dos indiv√≠duos de uma mesma fam√≠lia escravizada",
                wrongAnswers: [
                    "Instrumento musical de sopro tradicional",
                    "Tipo de tecido africano colorido",
                    "Dan√ßa ritual de invoca√ß√£o dos ancestrais"
                ]
            },
            {
                name: "Quitanda",
                category: "Palavra de origem africana",
                correctAnswer: "Feira, mercado ou tabuleiro para vender produtos frescos como frutas",
                wrongAnswers: [
                    "Instrumento musical de percuss√£o leve",
                    "Dan√ßa tradicional de celebra√ß√£o",
                    "Tecido utilizado em cerim√¥nias reais"
                ]
            },
            {
                name: "Agog√¥",
                category: "Palavra de origem africana",
                correctAnswer: "Sino; camp√¢nulas de metal unidas por cabo comum, tocadas com vareta",
                wrongAnswers: [
                    "Tipo de dan√ßa tradicional nigeriana",
                    "Prato t√≠pico da culin√°ria beninense",
                    "Vestimenta ceremonial de sacerdotes"
                ]
            },
            {
                name: "Berimbau",
                category: "Palavra de origem africana",
                correctAnswer: "Instrumento de percuss√£o de origem africana com arco e caba√ßa",
                wrongAnswers: [
                    "Dan√ßa guerreira dos povos mandingas",
                    "Tipo de agricultura de subsist√™ncia",
                    "Cerim√¥nia de inicia√ß√£o religiosa"
                ]
            },
            {
                name: "Cu√≠ca",
                category: "Palavra de origem africana",
                correctAnswer: "Instrumento musical angolano semelhante a tambor com haste interna",
                wrongAnswers: [
                    "Dan√ßa ritual de invoca√ß√£o da chuva",
                    "Tipo de agricultura tradicional",
                    "Artefato de ca√ßa dos povos bantos"
                ]
            }
        ];

        // Elementos DOM
        const personNameElement = document.getElementById('person-name');
        const questionTextElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextButton = document.getElementById('next-btn');
        const exitButton = document.getElementById('exit-btn');
        const scoreElement = document.getElementById('score');
        const currentPhaseElement = document.getElementById('current-phase');
        const phaseIndicatorElement = document.getElementById('phase-indicator');
        const resultMessageElement = document.getElementById('result-message');
        const pointsMessageElement = document.getElementById('points-message');
        const progressBarElement = document.getElementById('progress-bar');
        const finalScoreElement = document.getElementById('final-score');
        const restartButton = document.getElementById('restart-btn');
        const rankingContainer = document.getElementById('ranking-container');
        const rankingList = document.getElementById('ranking-list');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const timerBar = document.getElementById('timer-bar');
        const rankingModal = document.getElementById('ranking-modal');
        const closeModal = document.getElementById('close-modal');
        const modalScore = document.getElementById('modal-score');
        const playerNameInput = document.getElementById('player-name');
        const saveScoreButton = document.getElementById('save-score');
        const cancelScoreButton = document.getElementById('cancel-score');

        // Vari√°veis do jogo
        let currentQuestionIndex = 0;
        let currentPhase = 1;
        let score = 0;
        let selectedOption = null;
        let gameFinished = false;
        let timerInterval = null;
        let correctAnswersInPhase = 0;
        let currentQuizData = [];
        const POINTS_CORRECT = 13;
        const POINTS_WRONG = -3;
        const QUESTIONS_PER_PHASE = 10;
        const CORRECT_ANSWERS_TO_ADVANCE = 8; // Mudan√ßa de fase a cada 8 respostas certas
        const TOTAL_PHASES = 5;
        const DELAY_BETWEEN_QUESTIONS = 2000;

        // Sistema de ranking
        let ranking = JSON.parse(localStorage.getItem('aquilombar-ranking')) || [];

        // Som de tambor (mantido, mas pode n√£o funcionar em todos os navegadores sem intera√ß√£o pr√©via)
        function playDrumSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(150, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.5);
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.5);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                console.log("Erro ao tocar som de tambor:", e);
            }
        }

        // CORRE√á√ÉO APLICADA: Embaralhar array (algoritmo Fisher-Yates padr√£o)
        function shuffleArray(array) {
            let currentIndex = array.length, randomIndex;

            // Enquanto houver elementos para embaralhar
            while (currentIndex !== 0) {

                // Pegar um elemento restante de forma aleat√≥ria
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;

                // E trocar com o elemento atual
                [array[currentIndex], array[randomIndex]] = [
                    array[randomIndex], array[currentIndex]];
            }

            return array;
        }

        // Garantir que todas as perguntas tenham exatamente 3 op√ß√µes incorretas
        function validateQuestionData() {
            const genericWrongAnswers = [
                "L√≠der do movimento constitucionalista de 1932",
                "Fundador do primeiro jornal abolicionista",
                "Primeiro deputado federal negro eleito",
                "Criador do estilo musical chorinho",
                "Primeiro general negro das For√ßas Armadas",
                "Fundador da primeira universidade brasileira",
                "L√≠der da Revolu√ß√£o Farroupilha",
                "Criador do programa de TV Fant√°stico"
            ];
            
            quizData.forEach(question => {
                // Garantir que wrongAnswers exista e seja um array
                if (!question.wrongAnswers || !Array.isArray(question.wrongAnswers)) {
                    question.wrongAnswers = [];
                }
                
                // Garantir que sempre haja exatamente 3 op√ß√µes incorretas
                while (question.wrongAnswers.length < 3) {
                    // Adicionar uma resposta gen√©rica das op√ß√µes dispon√≠veis
                    const randomIndex = Math.floor(Math.random() * genericWrongAnswers.length);
                    const randomAnswer = genericWrongAnswers[randomIndex];
                    
                    // S√≥ adicionar se n√£o estiver j√° na lista
                    if (!question.wrongAnswers.includes(randomAnswer) && randomAnswer !== question.correctAnswer) {
                        question.wrongAnswers.push(randomAnswer);
                    }
                }
                
                // Se houver mais de 3 op√ß√µes, manter apenas as 3 primeiras
                if (question.wrongAnswers.length > 3) {
                    question.wrongAnswers = question.wrongAnswers.slice(0, 3);
                }
            });
        }

        // Embaralhar op√ß√µes de uma pergunta - garantindo 1 correta + 3 erradas
        function shuffleQuestionOptions(question) {
            // Garantir que temos exatamente 3 op√ß√µes incorretas + 1 correta
            const allOptions = [...question.wrongAnswers, question.correctAnswer];
            
            // Verificar se temos exatamente 4 op√ß√µes
            if (allOptions.length !== 4) {
                console.warn(`Pergunta "${question.name}" n√£o tem 4 op√ß√µes:`, allOptions);
                // Se n√£o tiver 4 op√ß√µes, preencher com op√ß√µes gen√©ricas
                while (allOptions.length < 4) {
                    allOptions.push("Op√ß√£o n√£o dispon√≠vel");
                }
            }
            
            return shuffleArray(allOptions);
        }

        // Inicializar o jogo
        function initGame() {
            currentQuestionIndex = 0;
            currentPhase = 1;
            score = 0;
            correctAnswersInPhase = 0;
            gameFinished = false;
            
            // Validar os dados das perguntas primeiro
            validateQuestionData();
            
            // Criar uma c√≥pia do quizData e embaralhar
            currentQuizData = [...quizData];
            shuffleArray(currentQuizData);
            
            updateScore();
            updatePhaseIndicator();
            showQuestion();
            updateProgressBar();
            
            // Esconder elementos finais
            finalScoreElement.style.display = 'none';
            restartButton.style.display = 'none';
            
            // Mostrar elementos do jogo
            document.querySelector('.game-area').style.display = 'flex';
        }

        // Mostrar a pergunta atual
        function showQuestion() {
            const currentQuestion = currentQuizData[currentQuestionIndex];
            
            // Adicionar categoria se existir
            const categoryText = currentQuestion.category ? ` (${currentQuestion.category})` : '';
            personNameElement.textContent = currentQuestion.name + categoryText;
            
            // Atualizar texto da pergunta baseado no tipo
            if (currentQuestion.category === "Palavra de origem africana") {
                questionTextElement.textContent = "O que essa palavra significa?";
            } else if (currentQuestion.category === "Revolta Negra") {
                questionTextElement.textContent = "O que foi essa revolta?";
            } else {
                questionTextElement.textContent = "Atividade e atua√ß√£o ?";
            }
            
            // Limpar op√ß√µes anteriores
            optionsContainer.innerHTML = '';
            resultMessageElement.textContent = '';
            resultMessageElement.className = 'result-message';
            pointsMessageElement.textContent = '';
            timerBar.style.width = '0%';
            timerBar.style.transition = 'none'; // Resetar transi√ß√£o
            
            // Criar array com todas as op√ß√µes e embaralhar
            const allOptions = shuffleQuestionOptions(currentQuestion);
            
            // Verificar se temos exatamente 4 op√ß√µes
            if (allOptions.length !== 4) {
                console.error(`Erro: A pergunta "${currentQuestion.name}" n√£o tem 4 op√ß√µes v√°lidas`);
            }
            
            // Adicionar op√ß√µes ao DOM
            allOptions.forEach((option, index) => {
                // Verificar se a op√ß√£o √© v√°lida (n√£o undefined e n√£o vazia)
                if (option && option !== "undefined" && option.trim() !== "") {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    optionElement.textContent = option;
                    optionElement.dataset.option = option;
                    optionElement.addEventListener('click', () => selectOption(optionElement));
                    optionsContainer.appendChild(optionElement);
                }
            });
            
            // Resetar bot√£o
            nextButton.disabled = true;
            selectedOption = null;
        }

        // Atualizar indicador de fase
        function updatePhaseIndicator() {
            phaseIndicatorElement.textContent = `Fase ${currentPhase} de ${TOTAL_PHASES} | Respostas certas: ${correctAnswersInPhase}/${CORRECT_ANSWERS_TO_ADVANCE}`;
            currentPhaseElement.textContent = currentPhase;
        }

        // Selecionar uma op√ß√£o
        function selectOption(optionElement) {
            // Se j√° selecionou uma op√ß√£o, n√£o faz nada
            if (selectedOption) return;
            
            // Desabilitar cliques em todas as op√ß√µes
            document.querySelectorAll('.option').forEach(opt => opt.style.pointerEvents = 'none');
            
            // Remover sele√ß√£o anterior (por seguran√ßa)
            const previouslySelected = document.querySelector('.option.selected');
            if (previouslySelected) {
                previouslySelected.classList.remove('selected');
            }
            
            // Selecionar nova op√ß√£o
            optionElement.classList.add('selected');
            selectedOption = optionElement.dataset.option;
            
            // Verificar resposta automaticamente ap√≥s um breve delay
            setTimeout(checkAnswer, 300);
        }

        // Verificar resposta
        function checkAnswer() {
            if (!selectedOption) return;
            
            const currentQuestion = currentQuizData[currentQuestionIndex];
            const isCorrect = selectedOption === currentQuestion.correctAnswer;
            
            // Marcar op√ß√µes corretas/incorretas
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.option === currentQuestion.correctAnswer) {
                    option.classList.add('correct');
                } else if (option.dataset.option === selectedOption && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            // Atualizar pontua√ß√£o
            if (isCorrect) {
                score += POINTS_CORRECT;
                correctAnswersInPhase++;
                resultMessageElement.textContent = 'Correto! Parab√©ns!';
                resultMessageElement.style.color = 'var(--success)';
                pointsMessageElement.textContent = `+${POINTS_CORRECT} pontos!`;
                pointsMessageElement.style.color = 'var(--success)';
                
                // Verificar se atingiu 8 respostas certas para mudar de fase
                if (correctAnswersInPhase >= CORRECT_ANSWERS_TO_ADVANCE && currentPhase < TOTAL_PHASES) {
                    // Tocar som de tambor ao mudar de fase
                    playDrumSound();
                    currentPhase++;
                    correctAnswersInPhase = 0;
                    updatePhaseIndicator();
                }
            } else {
                score += POINTS_WRONG;
                resultMessageElement.textContent = 'Incorreto. Tente na pr√≥xima!';
                resultMessageElement.style.color = 'var(--accent)';
                pointsMessageElement.textContent = `${POINTS_WRONG} pontos`;
                pointsMessageElement.style.color = 'var(--accent)';
            }
            
            // Garantir que a pontua√ß√£o n√£o fique negativa
            if (score < 0) score = 0;
            
            updateScore();
            
            // Iniciar timer de 2 segundos antes de permitir pr√≥xima pergunta
            startTimer();
        }

        // Timer de 2 segundos
        function startTimer() {
            timerBar.style.transition = `width ${DELAY_BETWEEN_QUESTIONS}ms linear`;
            timerBar.style.width = '100%';
            
            setTimeout(() => {
                nextButton.disabled = false;
            }, DELAY_BETWEEN_QUESTIONS);
        }

        // Pr√≥xima pergunta
        function nextQuestion() {
            currentQuestionIndex++;
            
            // Verificar se terminou o jogo
            if (currentQuestionIndex >= currentQuizData.length) {
                endGame();
                return;
            }
            
            // Reabilitar cliques nas op√ß√µes
            document.querySelectorAll('.option').forEach(opt => opt.style.pointerEvents = 'auto');
            
            showQuestion();
            updateProgressBar();
        }

        // Finalizar jogo
        function endGame() {
            gameFinished = true;
            document.querySelector('.game-area').style.display = 'none';
            
            // Adicionar ao ranking
            showRankingModal();
            
            // Mostrar cita√ß√£o antirracista
            const randomQuote = antiRacistQuotes[Math.floor(Math.random() * antiRacistQuotes.length)];
            
            const maxScore = currentQuizData.length * POINTS_CORRECT;
            const percentage = Math.round((score / maxScore) * 100);
            let message = '';
            let medal = '';
            
            if (percentage === 100) {
                message = 'Perfeito! Voc√™ √© um expert em personalidades negras!';
                medal = `${adinkraSymbols.gold} Gye Nyame - Medalha de Ouro`;
            } else if (percentage >= 80) {
                message = 'Excelente! Voc√™ conhece bem essas personalidades!';
                medal = `${adinkraSymbols.silver} Dwennimmen - Medalha de Prata`;
            } else if (percentage >= 60) {
                message = 'Bom trabalho! Continue aprendendo sobre essas figuras importantes!';
                medal = `${adinkraSymbols.bronze} Akoma - Medalha de Bronze`;
            } else if (percentage >= 40) {
                message = 'Voc√™ sabe algumas coisas! Continue estudando!';
                medal = `${adinkraSymbols.honorable} Sankofa - Men√ß√£o Honrosa`;
            } else {
                message = 'Essas personalidades incr√≠veis merecem ser conhecidas! Continue aprendendo!';
                medal = `${adinkraSymbols.knowledge} Nsoromma - Em Busca do Conhecimento`;
            }
            
            finalScoreElement.innerHTML = `
                <h2>Jogo Conclu√≠do!</h2>
                <p>Sua pontua√ß√£o final: <strong>${score}</strong> pontos (m√°ximo poss√≠vel: ${maxScore})</p>
                <p><strong>${medal}</strong></p>
                <p>${message}</p>
                <div class="quote-container">
                    <p>"${randomQuote.text}"</p>
                    <p class="quote-author">- ${randomQuote.author}</p>
                </div>
            `;
            finalScoreElement.style.display = 'block';
            restartButton.style.display = 'block';
        }

        // Mostrar modal de ranking
        function showRankingModal() {
            modalScore.textContent = score;
            playerNameInput.value = '';
            rankingModal.style.display = 'flex';
        }

        // Fechar modal de ranking
        function closeRankingModal() {
            rankingModal.style.display = 'none';
        }

        // Salvar pontua√ß√£o no ranking
        function saveScore() {
            const playerName = playerNameInput.value.trim() || 'Jogador';
            const date = new Date().toLocaleDateString('pt-BR');
            
            ranking.push({
                name: playerName,
                score: score,
                date: date
            });
            
            // Ordenar ranking por pontua√ß√£o (maior para menor)
            ranking.sort((a, b) => b.score - a.score);
            
            // Manter apenas os 50 melhores
            if (ranking.length > 50) {
                ranking = ranking.slice(0, 50);
            }
            
            // Salvar no localStorage
            localStorage.setItem('aquilombar-ranking', JSON.stringify(ranking));
            
            // Fechar modal
            closeRankingModal();
            
            // Atualizar exibi√ß√£o do ranking
            updateRankingDisplay();
            
            // Mudar para a aba de ranking
            tabs.forEach(t => t.classList.remove('active'));
            document.getElementById('tab-ranking').classList.add('active');
            tabContents.forEach(content => {
                content.classList.remove('active');
                if (content.id === 'content-ranking') {
                    content.classList.add('active');
                }
            });
        }

        // Sair do jogo
        function exitGame() {
            if (confirm('Tem certeza que deseja desistir? Sua pontua√ß√£o ser√° registrada no ranking.')) {
                showRankingModal();
            }
        }

        // Atualizar exibi√ß√£o do ranking
        function updateRankingDisplay() {
            rankingList.innerHTML = '';
            
            if (ranking.length === 0) {
                const li = document.createElement('li');
                li.className = 'ranking-item';
                li.textContent = 'Nenhuma pontua√ß√£o registrada ainda';
                rankingList.appendChild(li);
            } else {
                ranking.forEach((player, index) => {
                    const li = document.createElement('li');
                    li.className = 'ranking-item';
                    
                    let medal = '';
                    if (index === 0) medal = `<span class="medal adinkra-symbol">${adinkraSymbols.gold}</span>`;
                    else if (index === 1) medal = `<span class="medal adinkra-symbol">${adinkraSymbols.silver}</span>`;
                    else if (index === 2) medal = `<span class="medal adinkra-symbol">${adinkraSymbols.bronze}</span>`;
                    
                    li.innerHTML = `
                        <span>${medal} ${index + 1}. ${player.name}</span>
                        <span>${player.score} pts</span>
                    `;
                    
                    rankingList.appendChild(li);
                });
            }
            
            // Mostrar ranking se houver dados
            rankingContainer.style.display = 'block';
        }

        // Atualizar pontua√ß√£o
        function updateScore() {
            scoreElement.textContent = score;
        }

        // Atualizar barra de progresso
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / currentQuizData.length) * 100;
            progressBarElement.style.width = `${progress}%`;
        }

        // Sistema de abas
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.id.replace('tab-', '');
                
                // Ativar aba clicada
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Mostrar conte√∫do correspondente
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === `content-${tabId}`) {
                        content.classList.add('active');
                    }
                });
                
                // Se for a aba de ranking, atualizar a exibi√ß√£o
                if (tabId === 'ranking') {
                    updateRankingDisplay();
                }
            });
        });

        // Event listeners
        nextButton.addEventListener('click', nextQuestion);
        exitButton.addEventListener('click', exitGame);
        restartButton.addEventListener('click', initGame);
        closeModal.addEventListener('click', closeRankingModal);
        saveScoreButton.addEventListener('click', saveScore);
        cancelScoreButton.addEventListener('click', closeRankingModal);

        // Fechar modal ao clicar fora dele
        window.addEventListener('click', (event) => {
            if (event.target === rankingModal) {
                closeRankingModal();
            }
        });

        // Permitir pressionar Enter para salvar no modal
        playerNameInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                saveScore();
            }
        });

        // Iniciar o jogo
        initGame();
        updateRankingDisplay();
    </script>
</body>
</html>
